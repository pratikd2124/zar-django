{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>  Zar Luxury {{title}}</title>

    <link rel="icon" href="{% static 'images/ZAR-icon.ico' %}" type="image/x-icon" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.ckeditor.com/4.20.0/standard/ckeditor.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Red+Rose:wght@300..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Gloock&family=Red+Rose:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
     <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WPDGJRHB9B"></script>
    <script>   
        window.dataLayer = window.dataLayer || [];   function gtag(){dataLayer.push(arguments);}   gtag('js', new Date());    gtag('config', 'G-WPDGJRHB9B'); 
    </script> 

</head>
<style>
    * {
        font-family: "Red Rose", serif;
        font-optical-sizing: auto;
        font-weight: 400;
        font-style: normal;
      }

      .gloock-regular {
        font-family: "Gloock", serif;
        font-weight: 300;
        font-style: normal;
      }
      /* Toastify custom classes */
.toast-debug {
    background: #e0e0e0;
    color: #333;
    border-left: 4px solid #999;
}

.toast-info {
    background: #d0e8ff;
    color: #007bff;
    border-left: 4px solid #007bff;
}

.toast-success {
    background: #d4edda;
    color: #28a745;
    border-left: 4px solid #28a745;
}

.toast-warning {
    background: #fff3cd;
    color: #856404;
    border-left: 4px solid #856404;
}

.toast-error {
    background: #f8d7da;
    color: #dc3545;
    border-left: 4px solid #dc3545;
}

</style>
<body class="bg-[#0a0a0a] text-white">

    {% include 'client/components/navbar.html' %}
    <main class="w-full min-h-screen">
        
        {% block content %}
            
        {% endblock content %}
            

    </main>
    {% include 'client/components/footer.html' %}


    
    {% if request.user.is_authenticated and request.user.type == 'Service Provider' or request.user.type == 'Material Provider' %}
       

    {% else %}

    
        
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            fetchCountries();
        });
    
        function fetchCountries() {
            fetch('https://countriesnow.space/api/v0.1/countries') // This URL provides country data
                .then(response => response.json())
                .then(data => {
                    const countrySelect = document.getElementById('country');
                    data.data.forEach(country => {
                        const option = document.createElement('option');
                        option.value = country.country;
                        option.text = country.country;
                        countrySelect.appendChild(option);
                    });
                    countrySelect.disabled = false;
                })
                .catch(error => console.error('Error fetching countries:', error));
        }
    
        function fetchStates() {
            const country = document.getElementById('country').value;
            if (!country) return;
    
            fetch('https://countriesnow.space/api/v0.1/countries/states', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    country: country
                })
            })
            .then(response => response.json())
            .then(data => {
                const stateSelect = document.getElementById('state');
                stateSelect.innerHTML = '<option readonly selected>Select State</option>';
                data.data.states.forEach(state => {
                    const option = document.createElement('option');
                    option.value = state.name;
                    option.text = state.name;
                    stateSelect.appendChild(option);
                });
                stateSelect.disabled = false;
                document.getElementById('city').disabled = true;
            })
            .catch(error => console.error('Error fetching states:', error));
        }
    
        function fetchCities() {
            const country = document.getElementById('country').value;
            const state = document.getElementById('state').value;
            if (!state || !country) return;
    
            fetch('https://countriesnow.space/api/v0.1/countries/state/cities', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    country: country,
                    state: state
                })
            })
            .then(response => response.json())
            .then(data => {
                const citySelect = document.getElementById('city');
                citySelect.innerHTML = '<option readonly selected>Select City</option>';
                data.data.forEach(city => {
                    const option = document.createElement('option');
                    option.value = city;
                    option.text = city;
                    citySelect.appendChild(option);
                });
                citySelect.disabled = false;
            })
            .catch(error => console.error('Error fetching cities:', error));
        }
    </script>
    {% endif %}
 <!-- Include Toastify JS -->
 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
 <script>
    // Check if there are any Django messages
    {% if messages %}
    {% for message in messages %}
        Toastify({
            text: "{{ message }}", // Display the message
            duration: 4000,        // Duration the toast stays visible
            close: true,           // Show close button
            gravity: "top",        // Position of the toast ('top' or 'bottom')
            position: "center",    // Position of the toast ('left', 'center', or 'right')
            className: "{{message.tags}}",

        }).showToast();
    {% endfor %}
{% endif %}

</script>
</body>
</html>
